!function(t){function e(e){for(var r,u,i=e[0],c=e[1],s=e[2],f=0,h=[];f<i.length;f++)u=i[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&h.push(o[u][0]),o[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);h.length;)h.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={2:0},a=[];function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=r);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=function(t){return u.p+""+({0:"chat-route",1:"loginroute",3:"user-page"}[t]||t)+"-"+{0:"844304fec6024cbc7d69",1:"20c770297254486169a9",3:"7675bae44d3ba02fc21e"}[t]+".js"}(t);var c=new Error;a=function(e){i.onerror=i.onload=null,clearTimeout(s);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}o[t]=void 0}};var s=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=c;a.push([215,4]),n()}({1:function(t,e,n){"use strict";n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"k",(function(){return v})),n.d(e,"d",(function(){return g})),n.d(e,"m",(function(){return b})),n.d(e,"a",(function(){return k})),n.d(e,"g",(function(){return w})),n.d(e,"f",(function(){return x})),n.d(e,"j",(function(){return _})),n.d(e,"o",(function(){return O})),n.d(e,"n",(function(){return j})),n.d(e,"c",(function(){return C})),n.d(e,"e",(function(){return S})),n.d(e,"l",(function(){return E}));n(85),n(69),n(169),n(56),n(31),n(170),n(171),n(172),n(173),n(174),n(175),n(116),n(70),n(36),n(118),n(176),n(52),n(177),n(123),n(93),n(179),n(183),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(68),n(97);var r,o=n(67),a=n.n(o),u=n(35),i=n.n(u),c=(n(0),n(30),n(7),n(17)),s=n.n(c),l=n(18),f=n.n(l),h=function(t){return t.constructor===Object},d=function(t){if("string"==typeof t)return"/"===t[0]?location.hash=t:location.hash="/".concat(t)},p=new(function(){function t(){s()(this,t),this.EventCache={}}return f()(t,[{key:"emit",value:function(t,e){return window.dispatchEvent(new CustomEvent(t,{detail:e}))}},{key:"listen",value:function(t,e){return this.EventCache[t]=e,window.addEventListener(t,e)}},{key:"detroyEvt",value:function(t,e){window.removeEventListener(t,e)}},{key:"destroyAll",value:function(){for(var t=0,e=Object.keys(this.EventCache);t<e.length;t++){var n=e[t];this.detroyEvt(n,this.EventCache[n])}}}]),t}()),v=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;if("#"===e[0])t=e.substr(1);else try{t=new URL(e).hash.substr(1)}catch(e){t="/",console.log(e)}var n=t.split("?"),r=[0===t.length?"/":n[0],n[1]],o=r[0],a=r[1];return{path:o,qs:a}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return i()(Array(t)).join(".").replace(/[.]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},y=((r=document.createElement("style")).innerHTML="",document.head.appendChild(r),r.sheet),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=Array.from(e.rules);return n.filter((function(e){return e.selectorText===t}))[0]},b=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,r=Object.keys(e),o=0,a=r;o<a.length;o++){var u=a[o];if(!["$$element","$$parent"].includes(u)){var c=e[u];if("class"===u)t.className="string"==typeof c?c:i()(c).join(" ");else if("events"===u)for(var s=0,l=Object.keys(c);s<l.length;s++){var f=l[s],d=c[f];t.addEventListener(f,d)}else if("style"===u){var p=void 0,v=void 0,b=void 0;if(p=h(c)?_(c):c,b=t.getAttribute("_routercontent")||e._routercontent){var k=m('[_routercontent="'.concat(b,'"]'));k?k.style=p:v=!0}else b=g(),v=!0;v&&(t.setAttribute("_routercontent",b),n.insertRule("[_routercontent='".concat(b,"']{").concat(p,"}")))}else["___innerHTML___","innerText","textContent"].includes(u)?"___innerHTML___"===u?t.innerHTML=c:t.textContent=c:t.setAttribute(u,c)}}},k={q:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?document.querySelector(t):Array.from(document.querySelectorAll(t))},id:function(t){return document.getElementById(t)},className:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Array.from(document.getElementsByClassName(t));return e?n[0]:n},create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,r=document.createElement(t);return e&&"object"==a()(e)&&b(r,e,n),r},get:function(t,e){return t.getAttribute(e)},set:function(t,e,n){return t.setAttribute(e,n)},empty:function(t){var e;for(e=t.lastChild;e;)t.removeChild(e),e=t.lastChild}},w=function(t){return t instanceof Function},x=function(t){return"AsyncFunction"===t.constructor.name},_=function(t){if("string"==typeof t)return t;for(var e=[],n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];e.push("".concat(o,":").concat(t[o]))}return e.join(";")},O=function(t){return window.URLSearchParams?new URLSearchParams(t):"".concat(Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&"))};var j=function(t){try{var e={hour:"numeric",hour12:!0,minute:"numeric"},n=new Date(t),r=new Date;return n.getFullYear()!==r.getFullYear()&&(e.year="numeric"),a=r,((o=n).getFullYear()!==a.getFullYear()||o.getMonth()!==a.getMonth()||o.getDate()!==a.getDate())&&(e.month=e.day="numeric"),Intl.DateTimeFormat("auto",e).format(n)}catch(t){return console.log(t),now.toLocaleString()}var o,a},C=function(){return(new Date).getTime()},S=function(t,e){if(t){var n=t.routeCache();return n?n[e]:null}return null};function E(t,e){if(!window.customElements.get(t))return window.customElements.define(t,e)}k.q("noscript").remove()},212:function(t,e,n){},213:function(t,e,n){},214:function(t){t.exports=JSON.parse("{}")},215:function(t,e,n){"use strict";n.r(e);n(36),n(74);var r=n(0),o=n.n(r),a=(n(30),n(7)),u=n.n(a),i=(n(94),n(138),n(139),n(85),n(69),n(56),n(155),n(31),n(95),n(116),n(70),n(118),n(120),n(88),n(52),n(123),n(68),n(53)),c=n.n(i),s=n(37),l=n.n(s),f=n(54),h=n.n(f),d=n(55),p=n.n(d),v=n(35),g=n.n(v),y=n(17),m=n.n(y),b=n(18),k=n.n(b),w=n(1),x={element:"a",attrs:{href:"/#/",style:{display:"block",color:"#000"}},events:{click:function(t){t.preventDefault(),location.hash="/"}},textContent:"Click Here to Go Back",children:[]},_={display:"block","text-align":"center","font-family":"sans-serif",padding:"8px",margin:"auto","font-weight":"bold"},O=new(function(){var t,e,n,r;function a(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.$ROOT||w.a.id("app-root")||w.a.q("body");m()(this,a),this._setVars(e),window.onhashchange=function(e){return t.navData=e,t.routeChange(),t._runDirectives()},this._runDirectives()}return k()(a,[{key:"parseHash",value:function(t){return Object(w.k)(t)}},{key:"__runConditionals",value:(n=u()(o.a.mark((function t(){var e,n,r,a,u,i,c,s,l,f,h,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=g()(document.querySelectorAll("[_routerif]")),n=!0,r=!1,a=void 0,t.prev=4,u=e[Symbol.iterator]();case 6:if(n=(i=u.next()).done){t.next=26;break}if(c=i.value,s=w.a.get(c,"_routerif"),l=w.a.get(c,"_routerthen"),!new Function("$","return ".concat(s)).call(this,c)){t.next=16;break}(f=c.$)&&(c.replaceWith(f),l&&new Function("$",l).call(this,f)),t.next=23;break;case 16:if(!(c.$ instanceof HTMLElement)){t.next=18;break}return t.abrupt("continue",23);case 18:h={_routerif:s},l&&(h._routerthen=l),(d=w.a.create("router-data",h)).$=c,c.replaceWith(d);case 23:n=!0,t.next=6;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(4),r=!0,a=t.t0;case 32:t.prev=32,t.prev=33,n||null==u.return||u.return();case 35:if(t.prev=35,!r){t.next=38;break}throw a;case 38:return t.finish(35);case 39:return t.finish(32);case 40:case"end":return t.stop()}}),t,this,[[4,28,32,40],[33,,35,39]])}))),function(){return n.apply(this,arguments)})},{key:"__runEventListeners",value:(e=u()(o.a.mark((function t(){var e,n,r,a,u,i,c,s=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=w.a.q("[_routerEvt][_routerAct]",!1),n=!0,r=!1,a=void 0,t.prev=4,u=function(){var t=c.value,e=w.a.get(t,"_routerEvt"),n=w.a.get(t,"_routerAct");t[e]=function(){new Function(n).call(s)}},i=e[Symbol.iterator]();!(n=(c=i.next()).done);n=!0)u();t.next=13;break;case 9:t.prev=9,t.t0=t.catch(4),r=!0,a=t.t0;case 13:t.prev=13,t.prev=14,n||null==i.return||i.return();case 16:if(t.prev=16,!r){t.next=19;break}throw a;case 19:return t.finish(16);case 20:return t.finish(13);case 21:case"end":return t.stop()}}),t,null,[[4,9,13,21],[14,,16,20]])}))),function(){return e.apply(this,arguments)})},{key:"_runDirectives",value:(t=u()(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__runConditionals();case 2:this.__runEventListeners();case 3:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"_callFuncWithThis",value:function(t,e,n,r){if(Object(w.f)(t,r))return t.apply(e,[r]).then((function(t){return n&&(t||{}).stopUpdate&&Object(w.m)(n,e.attrs),t}));var o=t.apply(e,[r]);return n&&((o||{}).stopUpdate||Object(w.m)(n,e.attrs)),o}},{key:"_setVars",value:function(t){var e=this;this.stopSubsequentRenders=!1,this.root=t,this.routeMap={},this.routes=[],this.routeCache={},this.unMountFn=function(){},this.unmountRoute=function(){e.unMountFn(),e.routeCache={}},this.statusHandler={404:{element:"div",attrs:{style:_},textContent:"The Page you are requesting was not found",children:[x]},500:{element:"div",attrs:{style:_},textContent:"An Error Occured while trying to process your request",children:[x]}}}}]),k()(a,[{key:"isUserGoingBack",value:function(t){var e=this.navData||{};return!("".concat(location.protocol,"//").concat(location.host,"/#").concat(t)!=e.oldURL||(console.log("Same url navigation"),0))}},{key:"routeParser",value:function(t){return this.parseHash(t).path}},{key:"load",value:function(t){return Object(w.i)(t)}},{key:"lazyload",value:function(t,e,n){var r=this;n?this.registerRoute(n):this.registerRoute({route:t,element:"div",textContent:"loading",attrs:{style:{margin:"100px"}}});var o=this.getRouteName(this.currentRoute)===t;return o&&this.startLoad(),e.then((function(t){if(r.registerRoute(t.default),o)return r.startLoad()}))}},{key:"startLoad",value:function(){this.routeChange()}},{key:"pushStatus",value:function(t,e){var n=this.statusHandler[t];return n.textContent=e||n.textContent,n?this.render(n,this.root,!0):this.render(this.statusHandler[404])}},{key:"getRouteName",value:function(t){var e=t.split("/").filter((function(t){return t}))[0];return e?"/".concat(e,"/"):"/"}},{key:"isValidRoute",value:function(t){if(this.routes.includes(t))return{res:!0,args:null,_fRoute:t};try{var e=t.split("/").filter((function(t){return t})),n="/".concat(e[0],"/");return this.routes.includes(n)?{res:!0,args:e.slice(1),_fRoute:n}:{res:!1}}catch(e){return console.log(e),{res:!1}}}},{key:"routeChange",value:function(){var t=this.routeParser(location.href),e=this.isValidRoute(t),n=e.res,r=e.args,o=e._fRoute;n?(console.log("rendering"),this.render(this.routeMap[o],this.root,!0,r)):this.render(this.statusHandler[404],this.root,!0,r)}},{key:"__toSets",value:function(t){"string"==typeof t.attrs.class?t.attrs.class=new Set([t.attrs.class]):Array.isArray(t.attrs.class)&&(t.attrs.class=new Set(t.attrs.class))}},{key:"__objDef",value:function(t,e,n,r,a){var i=this,c=function(){return t.$$element};t.attrs=t.attrs||{},this.__toSets(t),t.getRouter=function(){return i},t.update=function(){if(c()&&t.attrs)return Object(w.m)(c(),t.attrs)},t.remove=function(){if(c().parentNode)return c().replaceWith((e=w.a.create("router-data"),t._$routerData=e,e));var e},t.add=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";t._$routerData&&(t._$routerData.replaceWith(c()),t._$routerData=void 0),e&&(c().style.display=e)},t.routeCache=function(){return i.routeCache},t.reRender=u()(o.a.mark((function u(){var s,l=arguments;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=l.length>0&&void 0!==l[0]?l[0]:t,t.attrs._routercontent=c().getAttribute("_routercontent"),o.t0=c(),o.next=5,i.render(s,e,n,r,a);case 5:return o.t1=o.sent,o.abrupt("return",o.t0.replaceWith.call(o.t0,o.t1));case 7:case"end":return o.stop()}}),u)}))),t.safeRerender=function(e){t.add(),t.reRender(e),t.add()}}},{key:"render",value:(r=u()(o.a.mark((function t(e,n){var r,a,u,i,c,s,l,f,h,d,p,v,g,y,m,b,k,x,_,O,C,S,E,R,$,T,L=this,D=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=D.length>2&&void 0!==D[2]&&D[2],a=D.length>3?D[3]:void 0,u=D.length>4?D[4]:void 0,!this.stopSubsequentRenders){t.next=6;break}return console.log("preventing render"),t.abrupt("return");case 6:if(e){t.next=8;break}return t.abrupt("return");case 8:if(i=a||[],this._runDirectives(),c=e.element,s=e.attrs,l=e.beforeRender,f=e.onrender,h=e.textContent,d=e._innerHTML,p=e.onUnmount,v=e.events,g=e.children,y=e.isRoute,this.__objDef(e,n,r,i,u),(y||r)&&this.unmountRoute(),!Object(w.g)(l)){t.next=23;break}if(!Object(w.f)(l)){t.next=20;break}return t.next=17,this._callFuncWithThis(l,e,null,i);case 17:m=t.sent,t.next=21;break;case 20:m=this._callFuncWithThis(l,e,null,i);case 21:if(!m||!m.stopExec){t.next=23;break}return t.abrupt("return");case 23:for(b=w.a.create(c,s),k={},e.idx&&(k[e.idx]=e),Object.assign(this.routeCache,j(g),k),e.$$element=b,e.$$parent=u||null,h||0===h?b.textContent=h:d&&(console.warn("innerHTML can be dangerous!"),b.innerHTML=d),x=function(){var t=O[_];b.addEventListener(t,(function(n){return L._callFuncWithThis(v[t],e,b,n)}))},_=0,O=Object.keys(v||{});_<O.length;_++)x();for(C=!0,S=!1,E=void 0,t.prev=35,R=(g||[])[Symbol.iterator]();!(C=($=R.next()).done);C=!0)T=$.value,this.render(T,b,!1,null,e);t.next=43;break;case 39:t.prev=39,t.t0=t.catch(35),S=!0,E=t.t0;case 43:t.prev=43,t.prev=44,C||null==R.return||R.return();case 46:if(t.prev=46,!S){t.next=49;break}throw E;case 49:return t.finish(46);case 50:return t.finish(43);case 51:if(r&&w.a.empty(n),n.appendChild(b),y&&(this.unMountFn=p||function(){}),!Object(w.g)(f)){t.next=61;break}if(!Object(w.f)(f)){t.next=60;break}return t.next=58,this._callFuncWithThis(f,e,b,i);case 58:t.next=61;break;case 60:this._callFuncWithThis(f,e,b,i);case 61:return t.abrupt("return",b);case 62:case"end":return t.stop()}}),t,this,[[35,39,43,51],[44,,46,50]])}))),function(t,e){return r.apply(this,arguments)})},{key:"registerRoute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t.route&&t.element&&"/"===t.route[0]||e))throw new Error("invalid values");if(!e){this.routes.includes(t.route)||this.routes.push(t.route);var n=t.element,r=t.children,o=t.selector,a=t.attrs,u=t.beforeRender,i=t.events,c=t.hasRouteArgs,s=t.onUnmount,l=t.onrender,f=t.route,h=t.textContent,d=t._innerHTML,p=t.idx;return this.routeMap[f]={idx:p,element:n,selector:o,beforeRender:u,onrender:l,hasRouteArgs:c,attrs:a,textContent:h,_innerHTML:d,events:i,children:r,onUnmount:s,isRoute:!0}}var v=t.status;this.statusHandler[v]=t}},{key:"currentQS",get:function(){return this.parseHash(location.hash).qs}},{key:"currentRoute",get:function(){return this.routeParser(location.href)}}]),a}());function j(t){if(!t)return{};var e={},n=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var i=a.value;i.idx&&(e[i.idx]=i)}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return e}Object(w.l)("router-data",function(t){function e(){var t;return m()(this,e),(t=c()(this,l()(e).call(this))).attachShadow({mode:"open"}).appendChild(Object.assign(document.createElement("style"),{innerHTML:":host{display:none}"})),t}return h()(e,t),e}(p()(HTMLElement)));var C=function(){var t=u()(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",((n=document.createElement("link")).href=e,n.rel="stylesheet",document.head.appendChild(n)));case 4:t.prev=4,t.t0=t.catch(0),console.log("Could not append stylesheet",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e){return t.apply(this,arguments)}}(),S=n(51),E=(n(212),n(213),n(214),n(92),n(136)),R=n.n(E),$=n(99);C("https://fonts.pycode.tk/open-sans.css"),window.router=O;var T=O,L=w.a.id("app-banner");L&&(L.style.display="block");var D={route:"/logout/",element:"div",beforeRender:function(){return T.isUserGoingBack("/")?{stopExec:!0}:(localStorage.clear(),$.a.__clear__(),S.b.post("/api/logout/").then((function(){O.load("/")})))},textContent:"Logging you out"};T.registerRoute(D),Object(S.c)(T,!1).then(u()(o.a.mark((function t(){var e,r,a,u,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.e(0).then(n.bind(null,223)),r=n.e(3).then(n.bind(null,224)),a=n.e(1).then(n.bind(null,222)),u=0,i=[e,r,a];case 4:if(!(u<i.length)){t.next=15;break}return c=i[u],t.t0=T,t.next=9,c;case 9:t.t1=t.sent.default,t.t0.registerRoute.call(t.t0,t.t1),console.log("registered route..");case 12:u++,t.next=4;break;case 15:case"end":return t.stop()}}),t)})))).then((function(){return console.log("Started router loading"),T.startLoad()}));Object(S.a)()&&"serviceWorker"in navigator&&R.a.register().then((function(t){return console.log("SW registered.",t.scope)}))},51:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return _})),n.d(e,"e",(function(){return O})),n.d(e,"c",(function(){return S})),n.d(e,"h",(function(){return R})),n.d(e,"g",(function(){return $})),n.d(e,"f",(function(){return T}));n(94),n(85),n(69),n(141),n(56),n(211),n(31),n(95),n(142),n(98),n(143),n(144),n(70),n(36),n(74),n(120),n(88),n(52),n(93),n(145),n(68),n(137),n(97);var r=n(135),o=n.n(r),a=n(0),u=n.n(a),i=(n(30),n(7)),c=n.n(i),s=n(17),l=n.n(s),f=n(18),h=n.n(f),d=n(1),p=n(92);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(n,!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y,m=function(){return"localhost"!==location.hostname},b=window.location.host.includes("localhost")?"localhost:5000":"webmsg.herokuapp.com",k="".concat(window.location.protocol,"//").concat(b),w=function(){function t(){l()(this,t)}return h()(t,[{key:"__defaultOnMessage",value:function(t){if(!["ping","pong"].includes(t.data)){var e=JSON.parse(t.data);this._socketID=e.socket_id}}},{key:"startConn",value:function(t){var e=this;return new Promise((function(n,r){var o;e.socket=new WebSocket((o=t,"".concat("https:"===window.location.protocol?"wss://":"ws://").concat(b,"/").concat(o))),e.socket.onopen=function(){e.socket.send("__init__"),e.socket.onmessage=e.__defaultOnMessage,e._pingPongs(),n(e.socket)},e.socket.onerror=function(t){return r(t)}}))}},{key:"close",value:function(){try{this.socket.close()}catch(t){console.warn(t)}}},{key:"send",value:function(t){return this.socket.send(JSON.stringify(t))}},{key:"sendString",value:function(t){return this.socket.send(t)}},{key:"_pingPongs",value:function(){var t=this;this.pingtimer=setTimeout((function(){t.socket.readyState===t.socket.OPEN?(t.socket.send("ping"),t._pingPongs()):clearTimeout(t.pingtimer)}),2e4)}},{key:"onmessage",set:function(t){this.socket.onmessage=function(e){return"ping"===e.data||"pong"===e.data?void 0:t(e)}}},{key:"readyState",get:function(){return this.socket.readyState}},{key:"isUsable",get:function(){return!this.socket||[WebSocket.OPEN,WebSocket.CONNECTING].includes(this.socket.readyState)}}]),t}(),x=function(){return(y||{}).isUsable?y:y=new w},_=function(){function t(){l()(this,t)}var e,n;return h()(t,null,[{key:"get",value:(n=c()(u.a.mark((function t(e){var n,r,o,a=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],r=a.length>2&&void 0!==a[2]?a[2]:{},o=n?k+e:e,t.next=5,fetch(o,{headers:r,credentials:"include"});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"post",value:(e=c()(u.a.mark((function t(e){var n,r,o,a,i=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],r=i.length>2?i[2]:void 0,o=i.length>3&&void 0!==i[3]?i[3]:{"content-type":"application/x-www-form-urlencoded"},a=n?k+e:e,t.next=6,fetch(a,{method:"post",body:r,headers:o,credentials:"include"});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})}]),t}(),O=function(){function t(t,e){if(!t.attrs.value||!t.attrs.value.trim()){var n=Object(d.e)(t,e);n.attrs.class.delete("moveup"),n.attrs.class.add("movedown"),n.update(),setTimeout((function(){return n.attrs.class.delete("movedown"),n.update()}),110)}}function e(t,e){var n=Object(d.e)(t,e);n.attrs.class.add("moveup"),n.attrs.class.delete("movedown"),n.update()}var n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,u={};return r.blur||(u.blur=function(){t(this,a),this.update()}),r.focus||(u.focus=function(){this.attrs.untouched=!1,e(this,a)},r.keydown||(u.keydown=function(t){85===t.keyCode&&t.ctrlKey&&(t.preventDefault(),this.$$element.value=this.$$element.value.slice(this.$$element.selectionStart,this.$$element.value.length),this.$$element.setSelectionRange(0,0))}),r.keyup||(u.keyup=function(){return this.attrs.value=this.$$element.value})),{idx:n,element:"input",attrs:{type:o?"password":"text",spellcheck:!1,class:"paper-input"},onrender:function(){this.attrs.value?this.$$element.focus():(this.attrs.untouched=!0,this.attrs.clean=!0)},events:g({},r,{},u)}};return function(t,e,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{element:"div",children:[{idx:t,onrender:function(){var t=Object(d.e)(this,r);t&&t.$$element&&t.$$element.value.trim()&&(this.attrs.class=new Set(["_animate","moveup"]))},element:"div",textContent:e,attrs:{class:"_animate"}},n(r,o,a,t)]}}}(),j=function(t,e){return console.log(t),e.registerRoute(function(t){return{element:"div",status:503,textContent:"An error occured while contacting the server..please reload the page and try again",attrs:{style:{margin:"auto","text-align":"center"},class:"_errComponent"},children:[{element:"button",attrs:{style:{background:"#fff",color:"#000",border:"1px solid #6f70ee","border-radius":"20px",display:"block",margin:"auto","margin-top":"20px",padding:"8px",width:"20%",outline:"none",cursor:"pointer"},class:"ripple"},textContent:"Reload",events:{click:function(){return S(t)}}}]}}(e),!0),setTimeout((function(){return e.pushStatus(503),e.stopSubsequentRenders=!0}),500)},C=function(){var t=c()(u.a.mark((function t(){var e,n=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(n.length>0&&void 0!==n[0])||n[0],router.stopSubsequentRenders=!1,d.a.empty(router.root),router.root.appendChild(new p.a(null,null,Object(d.j)({margin:"auto",position:"fixed",top:0,bottom:0,left:0,right:0}))),router.root.appendChild((r=void 0,(r=d.a.create("div",{style:"margin:auto;text-align:center"})).textContent="Connecting to the server",r)),t.next=7,_.get("/api/gen_204");case 7:setTimeout((function(){return e?router.startLoad():void 0}),450);case 8:case"end":return t.stop()}var r}),t)})));return function(){return t.apply(this,arguments)}}();function S(t,e){return E.apply(this,arguments)}function E(){return(E=c()(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$((function(){return C(n)}),2,(function(t){throw j(t,e),new Error("e")})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var R=new(function(){var t,e;function n(){l()(this,n),this._setVars()}return h()(n,[{key:"_setVars",value:function(){this.chatID=this.THERE=null}},{key:"getIntegrity",value:(e=c()(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post("/api/integrity/",!0,Object(d.o)({integrity:this.Integrity}));case 2:return t.next=4,t.sent.json();case 4:return e=t.sent,n=e.key,this.Integrity=n,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"getUser",value:(t=c()(u.a.mark((function t(){var e,n,r,o,a=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.length>0&&void 0!==a[0]&&a[0],n=a.length>1&&void 0!==a[1]&&a[1],navigator.onLine){t.next=4;break}return t.abrupt("return",localStorage.getItem("$$user"));case 4:if(!this.HERE||e){t.next=8;break}if(!n){t.next=7;break}return t.abrupt("return",this.HERE);case 7:return t.abrupt("return",!0);case 8:return t.prev=8,t.next=11,_.post("/api/getuser");case 11:if(!(r=t.sent).ok||r.error){t.next=23;break}return t.next=15,r.text();case 15:if(o=t.sent,this.HERE=o.substr(3),localStorage.setItem("$$user",this.HERE),!n){t.next=20;break}return t.abrupt("return",this.HERE);case 20:return t.abrupt("return",!0);case 23:return t.abrupt("return",!1);case 24:t.next=30;break;case 26:return t.prev=26,t.t0=t.catch(8),console.log(t.t0),t.abrupt("return",!1);case 30:case"end":return t.stop()}}),t,this,[[8,26]])}))),function(){return t.apply(this,arguments)})}]),n}()),$=function(){var t=c()(u.a.mark((function t(e,n,r){var o,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<n)){t.next=16;break}return t.prev=2,t.next=5,e();case 5:return t.abrupt("return",t.sent);case 8:t.prev=8,t.t0=t.catch(2),o=t.t0;case 11:return t.next=13,new Promise((function(t){setTimeout((function(){return t()}),100)}));case 13:a++,t.next=1;break;case 16:r(o);case 17:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n,r){return t.apply(this,arguments)}}(),T=function(){var t=c()(u.a.mark((function t(e){var n,r,o,a=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r="/?".concat(Object(d.o)({continue:e||location.hash.substr(1)})),o="".concat(location.protocol,"//").concat(location.host,"/#").concat(r),t.next=5,R.getUser(!0,!0);case 5:if(t.sent){t.next=15;break}if(o!=n.oldURL){t.next=12;break}return console.log("Same url navigation"),t.abrupt("return",{stopExec:!0});case 12:return t.abrupt("return",(console.log("Not logged in"),Object(d.i)(r),{stopExec:!0}));case 13:t.next=16;break;case 15:return t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));n(56),n(98),n(88);var r=n(17),o=n.n(r),a=n(18),u=n.n(a),i=n(53),c=n.n(i),s=n(37),l=n.n(s),f=n(71),h=n.n(f),d=n(54),p=n.n(d),v=n(55),g=n.n(v),y=n(1),m="size",b=document.createElement("template");b.innerHTML='<style>.spinner{margin:auto;height: 50px; width: 50px; animation: rotate 0.8s infinite linear; border: 6px solid #e3e3e3; border-right-color: var(--primary-color); border-radius: 50%;}@keyframes rotate{from{transform: rotate(0deg);}to{transform: rotate(360deg);}}</style><div class="spinner"></div>';var k=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;Object.defineProperty(t,n,{enumerable:!0,get:function(){var t=this.getAttribute(e);return null===t?"":t},set:function(t){this.setAttribute(e,t)}})},w=function(t){function e(){var t;o()(this,e),t=c()(this,l()(e).call(this));var n=b.content.cloneNode(!0),r=t.attachShadow({mode:"open"});return r.appendChild(n),k(h()(t),m),t.div=r.querySelector(".spinner"),t}return p()(e,t),u()(e,[{key:"attributeChangedCallback",value:function(t,e,n){if(t===m&&n!==e){var r=this.div.style;r.height=r.width="string"==typeof n&&n.includes("px")?n:"".concat(n,"px")}}}],[{key:"observedAttributes",get:function(){return[m]}}]),e}(g()(HTMLElement));Object(y.l)("mat-spinner",w)},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(36),n(74);var r=n(17),o=n.n(r),a=n(18),u=n.n(a),i=n(0),c=n.n(i),s=(n(30),n(7)),l=n.n(s),f=function(t){var e=function(){var t=l()(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=e,r=e,a=e,i=e,s=e;if(indexedDB){var f=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"WebCache",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;o()(this,e),this.storeName=r,this._dbase=new Promise((function(t,e){var o=indexedDB.open(n,1);o.onerror=function(e){return console.log(e),t(null)},o.onsuccess=function(){t(o.result)},o.onupgradeneeded=function(){o.result.createObjectStore(r)}}))}return u()(e,[{key:"__IDBAct__",value:function(t,e){var n=this;return this._dbase.then((function(r){return new Promise((function(o,a){var u=r.transaction(n.storeName,t);u.oncomplete=function(){return o()},u.onabort=u.onerror=function(){return a()},e(u.objectStore(n.storeName))}))})).catch((function(t){return console.log(t),null}))}}]),e}(),h=function(){return new f};n=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h();return n.__IDBAct__("readonly",(function(n){e=n.get(t)})).then((function(){return e.result})).catch((function(t){return console.log(t),null}))},r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h();try{return n.__IDBAct__("readwrite",(function(n){n.put(e,t)}))}catch(t){return null}},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h();try{e.__IDBAct__("readwrite",(function(e){e.delete(t)}))}catch(t){return null}},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();try{return console.warn("clearing Store:",t),t.__IDBAct__("readwrite",(function(t){t.clear()}))}catch(t){return t}},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),e=[];return t.__IDBAct__("readonly",(function(t){(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}})).then((function(){return e})).catch((function(t){return null}))}}else;return{get:n,set:r,__clear__:i,keys:a,del:s}}("KeyStore")}});