(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{5:function(e,t,r){"use strict";r.r(t),r.d(t,"IDB",function(){return n});const n=(()=>{const e=async()=>null;let t=e,r=e,n=e,o=e,c=e;if(indexedDB){class e{constructor(e="WebCache",t="KeyStore"){this.storeName=t,this._dbase=new Promise((r,n)=>{const o=indexedDB.open(e,1);o.onerror=(e=>(console.log(e),r(null))),o.onsuccess=(()=>{r(o.result)}),o.onupgradeneeded=(()=>{o.result.createObjectStore(t)})})}__IDBAct__(e,t){return this._dbase.then(r=>new Promise((n,o)=>{const c=r.transaction(this.storeName,e);c.oncomplete=(()=>n()),c.onabort=c.onerror=(()=>o()),t(c.objectStore(this.storeName))})).catch(e=>(console.log(e),null))}}let s;const l=()=>s||new e;t=((e,t=l())=>{let r;return t.__IDBAct__("readonly",t=>{r=t.get(e)}).then(()=>r.result).catch(e=>(console.log(e),null))}),r=((e,t,r=l())=>{try{return r.__IDBAct__("readwrite",r=>{r.put(t,e)})}catch(e){return null}}),c=((e,t=l())=>{try{t.__IDBAct__("readwrite",t=>{t.delete(e)})}catch(e){return null}}),o=((e=l())=>{try{return console.warn("clearing Store:",e),e.__IDBAct__("readwrite",e=>{e.clear()})}catch(e){return e}}),n=((e=l())=>{const t=[];return e.__IDBAct__("readonly",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t).catch(e=>null)})}return{get:t,set:r,__clear__:o,keys:n,del:c}})()}}]);