(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{157:function(e,t,r){"use strict";r.r(t);r(72);var n=r(0),s=r.n(n),o=(r(22),r(2)),a=r.n(o),i=r(1),u=r(37),c=function(e){var t=Object(i.e)(e,"__errorbox__");return t.textContent="Loading..",t.attrs.style.visibility="visible",t.reRender(t),t},l={login:{fields_empty_or_session_error:"Check Your Username and Password or try to reload the page",no_such_user:"No Such User Exists",incorrect_password:"incorrect password"},register:{fields_empty_or_session_error:"Check Your Username and Password or try to reload the page",bad_request:"Bad Username or Password",username_taken:"Username Already Taken"}};function d(e,t){var r=(this.attrs.value||t.target.value).trim(),n=Object(i.e)(this,"".concat(e,"UserPH"));if(n.attrs.class.delete("error"),n.attrs.textContent="username",n.update(),r){if(!h(r))return n.attrs.class.add("error"),n.attrs.textContent="Invalid Username",n.update(),this.attrs.hasError=!0;this.attrs.hasError=!1,13===t.keyCode&&Object(i.e)(this,"".concat(e,"PasswordInput")).$$element.focus()}}function p(e){d.call(this,"login",e)}var h=function(e){if(0<e.length)return/^[0-9a-zA-Z_.-]+$/.test(e)};function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"password",s=e.target.value,o=Object(i.e)(this,t);if(o.attrs.textContent=n,o.attrs.class.delete("error"),o.update(),13===e.keyCode)return!s.trim()||4>s.length?(o.attrs.class.add("error"),o.attrs.textContent="Invalid Password",o.update(),this.attrs.hasError=!0):(this.attrs.hasError=!1,r())}var f=Object(u.e)("loginUserPH","username","loginUserInput",{keydown:p,keyup:function(e){this.attrs.value=this.$$element.value,p.call(this,e)}}),b=Object(u.e)("signupUserPH","username","signupUserInput",{keydown:function(e){d.call(this,"signup",e)},keyup:function(e){this.attrs.value=this.$$element.value,p.call(this,e)}}),v={idx:"loginBtn",element:"button",attrs:{style:{"border-radius":"5px",margin:"10px"},class:["ripple","actionbtn"]},textContent:"Login",events:{click:function(){var e=Object(i.e)(this,"sgupbx"),t=Object(i.e)(this,"loginBox");e.remove(),t.add()}}},x={element:"button",attrs:{style:{"border-radius":"5px",margin:"10px"},class:["ripple","actionbtn"]},textContent:"signup",events:{click:function(){var e=Object(i.e)(this,"sgupbx"),t=Object(i.e)(this,"loginBox");e.add(),t.remove()}}},m={element:"div",attrs:{id:"loginBox",style:{border:"2px solid #e3e3e3"}},onrender:function(){this.remove()},children:[f,Object(u.e)("loginPasswordPH","password","loginPasswordInput",{keydown:function(e){var t=this;return g.call(this,e,"loginPasswordPH",function(){return function(e){var t=c(e),r=Object(i.e)(e,"loginUserInput");if(!r.attrs.hasError&&!e.attrs.hasError){var n=r.$$element.value,o=e.$$element.value;return Object(u.g)(a()(s.a.mark(function e(){var r,a,c,d,p,h,g;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.b,e.t1=i.o,e.t2=n,e.t3=o,e.next=6,u.h.getIntegrity();case 6:return e.t4=e.sent,e.t5={user:e.t2,password:e.t3,integrity:e.t4},e.t6=(0,e.t1)(e.t5),e.next=11,e.t0.post.call(e.t0,"/login/check/",!0,e.t6);case 11:return r=e.sent,e.next=14,r.json();case 14:if(a=e.sent,r.ok&&!a.error){e.next=19;break}return c=l.login[a.error],t.textContent=c||"An unknown error occured on our end..",e.abrupt("return",t.reRender(t));case 19:if(!a.success){e.next=27;break}return t.$$element.textContent="Authenticated",d=Object(i.k)(location),p=d.qs,h=new URLSearchParams(p),(g=h.get("continue"))?Object(i.i)(g):Object(i.i)("/u/".concat(a.user)),t.textContent="",e.abrupt("return",t.reRender(t));case 27:case"end":return e.stop()}},e,this)})),2,function(e){return console.log(e),t.textContent="An error occured..please try again",t.reRender(t)})}}(t)})},keyup:function(){this.attrs.value=this.$$element.value}},!0)],idx:"loginBox"},w={element:"div",attrs:{id:"signupBox",style:{border:"2px solid #e3e3e3"}},onrender:function(){this.remove()},children:[b,Object(u.e)("signupPasswordPH","password","signupPasswordInput",{keydown:function(e){var t=this;return g.call(this,e,"signupPasswordPH",function(){return Object(i.e)(t,"signupPassConfInput").$$element.focus()})},keyup:function(){this.attrs.value=this.$$element.value}},!0),Object(u.e)("signupPassConfPH","confirm password","signupPassConfInput",{keydown:function(e){var t=this;return g.call(this,e,"signupPassConfPH",function(){return function(e){var t=c(e),r=Object(i.e)(e,"signupUserInput"),n=Object(i.e)(e,"signupPasswordInput");if(!(r.attrs.hasError||e.attrs.hasError||n.hasError)){var o=r.$$element.value,d=n.$$element.value,p=e.$$element.value;Object(u.g)(a()(s.a.mark(function e(){var r,n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.b,e.t1=i.o,e.t2=o,e.t3=d,e.t4=p,e.next=7,u.h.getIntegrity();case 7:return e.t5=e.sent,e.t6={user:e.t2,password:e.t3,checkpw:e.t4,integrity:e.t5},e.t7=(0,e.t1)(e.t6),e.next=12,e.t0.post.call(e.t0,"/register/check/",!0,e.t7);case 12:return r=e.sent,e.next=15,r.json();case 15:if(n=e.sent,r.ok&&!n.error){e.next=20;break}return a=l.register[n.error],t.textContent=a||"An unknown error occured on our end..",e.abrupt("return",t.reRender(t));case 20:if(!n.success){e.next=23;break}return t.textContent="Account Created. Please Login",e.abrupt("return",t.reRender(t));case 23:case"end":return e.stop()}},e,this)})),2,function(){return t.$$element.textContent="An Unknown error occured..please try again"})}}(t)},"confirm password")},keyup:function(){this.attrs.value=this.$$element.value}},!0)],idx:"sgupbx"};t.default={element:"div",attrs:{id:"auth-component",style:{margin:"auto","text-align":"center"}},beforeRender:function(){var e=a()(s.a.mark(function e(){var t,r,n,o,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.h.getUser(!0);case 2:if(!e.sent){e.next=16;break}if(t=Object(i.k)(location),r=t.qs,n=new URLSearchParams(r),!(o=n.get("continue"))){e.next=11;break}return Object(i.i)(o),e.abrupt("return",{stopExec:!0});case 11:if(a="/u/".concat(u.h.HERE),!this.getRouter().isUserGoingBack(a)){e.next=14;break}return e.abrupt("return",{stopExec:!0});case 14:return Object(i.i)(a),e.abrupt("return",{stopExec:!0});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onrender:function(){return console.log("Rendered Login Component")},children:[v,x,{element:"div",idx:"__errorbox__",attrs:{style:{visibility:"hidden",color:"#ff0000","font-weight":"bold"},textContent:""}},m,w],route:"/"}}}]);